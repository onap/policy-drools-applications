{
  "comments": [
    {
      "key": {
        "uuid": "da7095c5_93a56106",
        "filename": "testsuites/performance/src/main/resources/amsterdam/generate_performance_report.sh",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 3239
      },
      "writtenOn": "2018-07-27T08:49:07Z",
      "side": 1,
      "message": "I see that you have removed the wait time from average calculation, so how do you determine that when to send the APPC Response?\n\nAnd, can we rename this file with \"Multi thread or something\" just to differentiate between the old one and this one.",
      "range": {
        "startLine": 73,
        "startChar": 1,
        "endLine": 73,
        "endChar": 74
      },
      "revId": "34ad53944615c3790f2614d82c906163feeae6a7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da7095c5_c9d32637",
        "filename": "testsuites/performance/src/main/resources/amsterdam/generate_performance_report.sh",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 811
      },
      "writtenOn": "2018-07-27T12:25:22Z",
      "side": 1,
      "message": "The jmeter script looks for notification messages by subscribing to the POLICY-CL-MGT topic.  Each thread uses its own consumer group and server-side filtering to retrieve just the message for which it\u0027s currently looking.",
      "parentUuid": "da7095c5_93a56106",
      "range": {
        "startLine": 73,
        "startChar": 1,
        "endLine": 73,
        "endChar": 74
      },
      "revId": "34ad53944615c3790f2614d82c906163feeae6a7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da7095c5_497cf620",
        "filename": "testsuites/performance/src/main/resources/amsterdam/generate_performance_report.sh",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 3239
      },
      "writtenOn": "2018-07-27T13:21:05Z",
      "side": 1,
      "message": "That\u0027s very cool!!! Thanks.",
      "parentUuid": "da7095c5_c9d32637",
      "range": {
        "startLine": 73,
        "startChar": 1,
        "endLine": 73,
        "endChar": 74
      },
      "revId": "34ad53944615c3790f2614d82c906163feeae6a7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da7095c5_b381854c",
        "filename": "testsuites/performance/src/main/resources/amsterdam/uebtime.sh",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 3239
      },
      "writtenOn": "2018-07-27T08:49:07Z",
      "side": 1,
      "message": "Using network.log for calculation will be risky in performance tests. Because if you are running multiple threads and that too for long time, the network logs will be rotated very fast. That\u0027s what we saw during our testing with just 2 threads.\n\nAlso, this script is run manually after running the test plan or executed by the test plan after every interval?",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 188,
        "endChar": 42
      },
      "revId": "34ad53944615c3790f2614d82c906163feeae6a7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da7095c5_49207649",
        "filename": "testsuites/performance/src/main/resources/amsterdam/uebtime.sh",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 811
      },
      "writtenOn": "2018-07-27T12:25:22Z",
      "side": 1,
      "message": "Yes, the user of this script must unzip the relevant network log zip files, though for this test, everything fits in one network.log and one network.log.zip, so the prep work is not very much.\n\nThis is executed manually, like the generate.sh script.",
      "parentUuid": "da7095c5_b381854c",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 188,
        "endChar": 42
      },
      "revId": "34ad53944615c3790f2614d82c906163feeae6a7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da7095c5_a9b032f5",
        "filename": "testsuites/performance/src/main/resources/amsterdam/uebtime.sh",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 3239
      },
      "writtenOn": "2018-07-27T13:21:05Z",
      "side": 1,
      "message": "May be I am missing something here, you are referring to network.log file of drools PDP right? \nCouldn\u0027t understand that how we can make sure that everything fits in one network.log? \nI mean if we will execute this script after executing test plan for 72 hours, there will be multiple network.log files. And the APPC request/response logs will span through multiple files. How to decide which is the relevant network.log file?\n\nAlso, I am not clear as why we are calculating the time taken for APPC to process the request. As per me, it should not affect the performance metrics of drools PDP.",
      "parentUuid": "da7095c5_49207649",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 188,
        "endChar": 42
      },
      "revId": "34ad53944615c3790f2614d82c906163feeae6a7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da7095c5_e994ea38",
        "filename": "testsuites/performance/src/main/resources/amsterdam/uebtime.sh",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 811
      },
      "writtenOn": "2018-07-27T13:35:35Z",
      "side": 1,
      "message": "The MT jmeter script takes less than an hour to run.  As a result, the network log doesn\u0027t roll over more than once.\n\nRegarding the purpose: The performance metrics show the total elapsed time from initial ONSET to FINAL notification.  With the stability script, there is a fixed wait time that must be subtracted from the total elapsed time.  Similarly, with the MT test, the time should also be subtracted.  However, the time is no longer fixed, but is dependent on DMaaP and the jmeter script\u0027s response time, thus uebtime.sh attempts to measure that time.  Now that I think about it, I should have left the \"-w\" option in generate.sh and then passed the output from uebtime.sh to generate.sh via the \"-w\" option.",
      "parentUuid": "da7095c5_a9b032f5",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 188,
        "endChar": 42
      },
      "revId": "34ad53944615c3790f2614d82c906163feeae6a7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da7095c5_a99ef254",
        "filename": "testsuites/performance/src/main/resources/amsterdam/uebtime.sh",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 811
      },
      "writtenOn": "2018-07-27T13:38:36Z",
      "side": 1,
      "message": "Actually, the network log rolled over seven times, but that still wasn\u0027t difficult to prep manually.",
      "parentUuid": "da7095c5_e994ea38",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 188,
        "endChar": 42
      },
      "revId": "34ad53944615c3790f2614d82c906163feeae6a7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da7095c5_69ce9a5c",
        "filename": "testsuites/performance/src/main/resources/amsterdam/uebtime.sh",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 3239
      },
      "writtenOn": "2018-07-27T14:03:13Z",
      "side": 1,
      "message": "Agree that we should pass this to generate.sh using -w option and use the same subtraction logic.\n\nI thought the MT script will be made to run continuously for 72 hours before running the performance scripts to collect metrics. As running it only once (for less than an hour) won\u0027t give the actual performance figures. What do you say?\n\nRegarding rollover, I think there is a limit of total number of files in that folder (/var/log/onap/policy/pdpd) post which it gets purged and that\u0027s why we will not have all the files at the end of 72 hours for calculation.",
      "parentUuid": "da7095c5_a99ef254",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 188,
        "endChar": 42
      },
      "revId": "34ad53944615c3790f2614d82c906163feeae6a7",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}