controlLoop:
  version: 2.0.0
  controlLoopName: ControlLoop-eNodeB-ALU-3ee91181-6f05-4cd3-8437-cad5f58653ca
  services: 
  resources:
  pnf:
    PNFName: eNodeB.ALU
  trigger_policy: unique-policy-id-1-check-aots
  timeout: 2400

policies:
  - id: unique-policy-id-1-check-aots
    name: Check AOTS CTS
    description: Discard sleeping cell based on the new signature if it appears in recent CTS tickets
    actor: AOTS
    recipe: checkENodeBTicketHours
    payload:
      timeWindow: 5
    retry: 2
    timeout: 300
    success: unique-policy-id-2-check-aots-cts
    failure: final_failure
    failure_timeout: final_failure_timeout
    failure_retries: final_failure_retries
    failure_exception: final_failure_exception
    failure_guard: final_failure_guard

  - id: unique-policy-id-2-check-aots-cts
    name: Check AOTS CTS Equipment
    description: Discard sleeping cell based on the new signature if it is not active in CTS equipment data
    actor: AOTS
    recipe: checkEquipmentStatus
    retry: 2
    timeout: 300
    success: unique-policy-id-3-check-aots-eim
    failure: final_failure
    failure_timeout: final_failure_timeout
    failure_retries: final_failure_retries
    failure_exception: final_failure_exception
    failure_guard: final_failure_guard

  - id: unique-policy-id-3-check-aots-eim
    name: Check AOTS EIM_RT
    description: Discard sleeping cell based on the new signature if it appears in EIM_RT data
    actor: AOTS
    recipe: checkEimStatus
    retry: 2
    timeout: 300
    success: unique-policy-id-4-sdnr-reset
    failure: final_failure
    failure_timeout: final_failure_timeout
    failure_retries: final_failure_retries
    failure_exception: final_failure_exception
    failure_guard: final_failure_guard

  - id: unique-policy-id-4-sdnr-reset
    name: Have SDNR Reset
    description: SDNR should now reset this sleeper
    actor: SDNR
    recipe: Reset
    operationsAccumulateParams:
      period: 15m
      limit: 5
    retry: 2
    timeout: 300
    success: final_success
    failure: final_failure
    failure_timeout: final_failure_timeout
    failure_retries: final_failure_retries
    failure_exception: final_failure_exception
    failure_guard: final_failure_guard

